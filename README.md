# Проэкт ВИДЖЕТ
## Описание:
Это виджет, который показывает несколько последних успешных банковских операций клиента.
## Установка:

1. Клонируйте репозиторий:
```shell
https://gist.github.com/bzvyagintsev/0c4adf4403d4261808d75f9576c814c2
```
2. Установка зависимостей:
```shell
pip install -r requirements.txt
```
## Использование:
Функции вызываются по мере необходимости из пакетов processing и widget лежащих в папки src.

### Модуль: masks.py

get_mask_card_number(card_number) - Функция принимает на вход номер карты и возвращает ее маску. В случаи ошибки возвращает ошибку.

*пример:*
```shell
print(get_mask_card_number(7000792289606361))
```
*результат* -> 7000 79** **** 6361

get_mask_account(account) - Функция принимает на вход номер счета и возвращает его маску. В случаи ошибки возвращает ошибку.

*пример:*
```shell
print(get_mask_account(73654108430135874305))
```
*результат* -> **4305

### Модуль: processing.py

filter_by_state(list, state_key) - Функция возвращает новый список словарей, содержащий только те словари, у которых ключ state соответствует указанному значению.
*пример:*
```shell
# со статусом по умолчанию 'EXECUTED'
list = [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
        {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, 
        {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
        {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
print(filter_by_state(list))
```
*результат* -> [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

```shell
# со статусом 'CANCELED'
list = [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
        {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, 
        {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
        {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
print(filter_by_state(list,'CANCELED'))
```
*результат* ->  [{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

sort_by_date(list, True) - Функция которая принимает список словарей и необязательный параметр, задающий порядок сортировки по дате False/True (по умолчанию — возростание(True))

*пример*
```shell
# со статусом по умолчанию(True)
list = [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
        {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, 
        {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
        {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
print(sort_by_date(list))
```
*результат* -> [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

```shell
# со статусом по умолчанию(False)
list = [{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
        {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, 
        {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, 
        {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
print(sort_by_date(list, False))
```
*результат* -> [{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

### Модуль: widget.py

mask_account_card(account) - Возвращать строку с замаскированным номером. Для карт и счетов используйте разные типы маскировки.

*пример:*
```shell
# Пример для карты
print(mask_account_card("Visa Platinum 7000792289606361"))
```
*результат* -> Visa Platinum 7000 79** **** 6361

```shell
# Пример для счета
print(mask_account_card("Visa Platinum 73654108430135874305"))
```
*результат* -> Счет **4305

get_date(date) - Возвращает из строки дату в формате: День.Месяц.Год

*пример:*
```shell
print(get_date("2024-03-11T02:26:18.671407"))
```
*результат* -> 11.03.2024

## Документация:

## Лицензия: 

Этот проект учебный